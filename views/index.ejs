<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸ’¡ My Notes App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-100 font-sans">

  <!-- Header -->
  <header class="bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 shadow-lg p-6 mb-10 rounded-b-3xl text-center">
    <h1 class="text-4xl font-extrabold tracking-tight text-white drop-shadow-lg">
      ðŸ’¡ My Cool Notes App
    </h1>
    <p class="text-gray-200 mt-2">Create, Edit & Manage Your Notes in Style!</p>
  </header>

  <div class="max-w-3xl mx-auto px-4">

    <!-- Create Note Form -->
    <form action="/createTask" method="post" class="bg-gray-800 p-6 rounded-xl shadow-lg mb-10">
      <h2 class="text-2xl font-semibold mb-4 text-blue-400">Create a New Note</h2>

      <input 
        type="text" 
        name="title"
        placeholder="Title goes here.." 
        class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-100"
        required
      >

      <textarea 
        name="details"
        placeholder="Write your note here..." 
        class="w-full h-32 p-3 bg-gray-700 border border-gray-600 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-100"
        required
      ></textarea>

      <button 
        type="submit"
        class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200"
      >
        Create Note
      </button>
    </form>

    <!-- Task List -->
    <section>
      <% if (tasks.length > 0) { %>
        <h3 class="text-xl font-bold mb-4 text-purple-400">Your Notes</h3>
        <ul class="space-y-4">
          <% tasks.forEach(task => { %>
            <li class="bg-gray-800 p-5 rounded-xl shadow hover:shadow-xl transition-all duration-200 flex justify-between items-center">
              <span class="font-medium text-lg text-gray-100"><%= task.replace('.txt', '') %></span>
              <div class="flex space-x-3">
                <!-- Read More -->
                <a 
                  href="/task/<%= encodeURIComponent(task) %>" 
                  class="px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded-lg text-white font-semibold shadow hover:shadow-md transition-all duration-200"
                >
                  Read More
                </a>
                <!-- Edit -->
                <a 
                  href="/edit/<%= encodeURIComponent(task) %>" 
                  class="px-3 py-1 bg-yellow-500 hover:bg-yellow-600 rounded-lg text-white font-semibold shadow hover:shadow-md transition-all duration-200"
                >
                  Edit
                </a>
              </div>
            </li>
          <% }) %>
        </ul>
      <% } else { %>
        <p class="text-gray-400 italic text-center">No notes yet. Create one above!</p>
      <% } %>
    </section>

  </div>

</body>
</html>
